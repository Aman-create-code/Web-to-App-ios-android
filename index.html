<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Engine v3 | Pro App Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { background: #020617; font-family: 'Inter', sans-serif; }
        .cyber-input { background: #0f172a; border: 1px solid #1e293b; color: white; border-radius: 12px; width: 100%; padding: 12px; transition: all 0.3s; }
        .cyber-input:focus { border-color: #06b6d4; box-shadow: 0 0 15px rgba(6,182,212,0.3); outline: none; }
        .card { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.05); }
    </style>
</head>
<body class="text-slate-200 p-4">

    <div class="max-w-5xl mx-auto space-y-6">
        <div class="flex justify-between items-center bg-slate-900/50 p-6 rounded-3xl border border-slate-800">
            <div>
                <h1 class="text-3xl font-black text-white tracking-tighter uppercase">Nexus <span class="text-cyan-500">v3.0</span></h1>
                <p class="text-xs text-slate-500 font-bold uppercase tracking-widest">Advanced Native Compiler Interface</p>
            </div>
            <div id="statusBadge" class="px-4 py-1 rounded-full bg-slate-800 border border-slate-700 text-[10px] font-bold">READY</div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-2 space-y-6">
                
                <div class="card p-8 rounded-[2rem] space-y-4">
                    <h2 class="text-xl font-bold flex items-center gap-2"><i data-lucide="key" class="text-cyan-500"></i> API Gate</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="password" id="ghToken" class="cyber-input" placeholder="GitHub Token (ghp_...)">
                        <input type="text" id="ghRepo" class="cyber-input" placeholder="User/Repository">
                    </div>
                </div>

                <div class="card p-8 rounded-[2rem] space-y-6">
                    <h2 class="text-xl font-bold flex items-center gap-2"><i data-lucide="sliders" class="text-purple-500"></i> App Customization</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-4">
                            <input type="url" id="appUrl" class="cyber-input" placeholder="https://deine-webseite.de">
                            <input type="text" id="appName" class="cyber-input" placeholder="App Name (z.B. MyStore)">
                            <select id="orientation" class="cyber-input">
                                <option value="portrait">Nur Hochformat (Portrait)</option>
                                <option value="landscape">Nur Querformat (Landscape)</option>
                                <option value="any">Automatisch drehen</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="toggleF('mic')" id="f-mic" class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 text-[10px] uppercase font-bold transition-all">Mikrofon</button>
                            <button onclick="toggleF('cam')" id="f-cam" class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 text-[10px] uppercase font-bold transition-all">Kamera</button>
                            <button onclick="toggleF('gps')" id="f-gps" class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 text-[10px] uppercase font-bold transition-all">Standort</button>
                            <button onclick="toggleF('vibrate')" id="f-vibrate" class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 text-[10px] uppercase font-bold transition-all">Vibration</button>
                            <button onclick="toggleF('fullscreen')" id="f-fullscreen" class="p-3 rounded-xl border border-slate-800 bg-slate-900/50 text-[10px] uppercase font-bold transition-all col-span-2">Fullscreen (No Statusbar)</button>
                        </div>
                    </div>

                    <div class="flex items-center gap-4 p-4 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl">
                        <input type="color" id="themeColor" value="#06b6d4" class="h-10 w-20 rounded bg-transparent border-none cursor-pointer">
                        <p class="text-xs font-bold uppercase">System-Akzentfarbe w√§hlen</p>
                    </div>
                </div>

                <button onclick="triggerNexusBuild()" id="buildBtn" class="w-full py-6 rounded-3xl bg-gradient-to-r from-cyan-600 to-blue-600 font-black text-xl hover:scale-[1.01] active:scale-95 transition-all shadow-2xl shadow-cyan-900/20">
                    START DEPLOYMENT
                </button>
            </div>

            <div class="space-y-6">
                <div class="card p-6 rounded-3xl text-center">
                    <p class="text-[10px] font-black uppercase text-slate-500 mb-4">Live Console</p>
                    <div id="console" class="h-64 bg-black/50 rounded-2xl p-4 text-[10px] text-left font-mono overflow-y-auto text-cyan-500 border border-slate-800">
                        > Nexus Engine ready...<br>
                        > Waiting for input...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        let features = { mic: false, cam: false, gps: false, vibrate: false, fullscreen: false };

        function toggleF(id) {
            features[id] = !features[id];
            document.getElementById('f-' + id).classList.toggle('border-cyan-500');
            document.getElementById('f-' + id).classList.toggle('text-cyan-400');
        }

        async function triggerNexusBuild() {
            const btn = document.getElementById('buildBtn');
            const cons = document.getElementById('console');
            const token = document.getElementById('ghToken').value;
            const repo = document.getElementById('ghRepo').value;

            if(!token || !repo) return alert("API Daten fehlen!");

            btn.disabled = true;
            cons.innerHTML += `<br>> Initiating Repository Dispatch...`;

            try {
                const response = await fetch(`https://api.github.com/repos/${repo}/dispatches`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Accept': 'application/vnd.github.v3+json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        event_type: "nexus_build_trigger",
                        client_payload: {
                            url: document.getElementById('appUrl').value,
                            name: document.getElementById('appName').value,
                            orientation: document.getElementById('orientation').value,
                            color: document.getElementById('themeColor').value,
                            perms: features
                        }
                    })
                });

                if(response.ok) {
                    cons.innerHTML += `<br><span class="text-green-500">> SUCCESS: Action triggered! Check GitHub Actions tab.</span>`;
                } else {
                    const err = await response.json();
                    cons.innerHTML += `<br><span class="text-red-500">> ERROR: ${err.message}</span>`;
                }
            } catch (e) {
                cons.innerHTML += `<br><span class="text-red-500">> FATAL: Network Error.</span>`;
            }
            btn.disabled = false;
        }
    </script>
</body>
</html>
