<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadowchat Pro | Multi-Platform Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&display=swap');
        body { background: #020617; color: #f8fafc; font-family: 'Space Grotesk', sans-serif; }
        .glass { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.05); }
        .neo-input { background: #000; border: 1px solid #1e293b; border-radius: 12px; padding: 12px; width: 100%; color: #22d3ee; outline: none; transition: 0.3s; }
        .neo-input:focus { border-color: #22d3ee; box-shadow: 0 0 15px rgba(34, 211, 238, 0.2); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-6xl mx-auto space-y-8">
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <h1 class="text-5xl font-black tracking-tighter italic">SHADOW<span class="text-cyan-400">CHAT</span> <span class="text-sm not-italic font-light text-slate-500">v5.0 Enterprise</span></h1>
            <div class="flex gap-2">
                <span class="px-3 py-1 bg-green-500/10 text-green-500 rounded-full border border-green-500/20 text-[10px] font-bold">iOS READY</span>
                <span class="px-3 py-1 bg-blue-500/10 text-blue-500 rounded-full border border-blue-500/20 text-[10px] font-bold">ANDROID READY</span>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <div class="lg:col-span-3 space-y-2">
                <button onclick="showTab('general')" class="w-full text-left p-4 rounded-xl glass hover:bg-white/5 transition-all flex items-center gap-3"><i data-lucide="settings"></i> General</button>
                <button onclick="showTab('design')" class="w-full text-left p-4 rounded-xl glass hover:bg-white/5 transition-all flex items-center gap-3"><i data-lucide="palette"></i> Design & Icon</button>
                <button onclick="showTab('ios')" class="w-full text-left p-4 rounded-xl glass hover:bg-white/5 transition-all flex items-center gap-3"><i data-lucide="apple"></i> iOS Settings</button>
                <button onclick="showTab('build')" class="w-full text-left p-4 rounded-xl bg-cyan-600 hover:bg-cyan-500 transition-all flex items-center gap-3 font-bold mt-10"><i data-lucide="zap"></i> Build Hub</button>
            </div>

            <div class="lg:col-span-9 glass rounded-[2.5rem] p-8">
                
                <div id="general" class="tab-content active space-y-6">
                    <h2 class="text-2xl font-bold">Core Configuration</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Web-App URL</label>
                            <input type="url" id="appUrl" class="neo-input" placeholder="https://aman-chat.de">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">App Name</label>
                            <input type="text" id="appName" class="neo-input" placeholder="Shadowchat">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Package ID</label>
                            <input type="text" id="appId" class="neo-input" placeholder="com.shadowchat.network">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">User Agent Override</label>
                            <input type="text" id="userAgent" class="neo-input" placeholder="ShadowMobile/1.0">
                        </div>
                    </div>
                </div>

                <div id="design" class="tab-content space-y-6">
                    <h2 class="text-2xl font-bold">Visual Branding</h2>
                    <div class="flex flex-col md:flex-row gap-10 items-center">
                        <div class="w-48 h-48 rounded-[25%] bg-slate-900 border-2 border-dashed border-slate-700 flex items-center justify-center relative overflow-hidden group">
                            <i data-lucide="image-plus" id="iconHint" class="text-slate-700 w-12 h-12"></i>
                            <img id="iconPreview" class="hidden w-full h-full object-cover">
                            <input type="file" id="iconInput" class="hidden" accept="image/png" onchange="handleIcon(this)">
                            <button onclick="document.getElementById('iconInput').click()" class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center font-bold">Upload PNG</button>
                        </div>
                        <div class="flex-1 space-y-4">
                            <div>
                                <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Statusbar Color</label>
                                <input type="color" id="statusBarColor" value="#020617" class="w-full h-12 bg-transparent border-none cursor-pointer">
                            </div>
                            <div class="flex items-center gap-4">
                                <input type="checkbox" id="pullToRefresh" checked class="w-6 h-6 rounded bg-black">
                                <label class="text-sm font-bold">Enable Pull-to-Refresh</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ios" class="tab-content space-y-6">
                    <h2 class="text-2xl font-bold">Apple Device Specifics</h2>
                    <div class="bg-amber-500/10 border border-amber-500/20 p-4 rounded-xl text-amber-500 text-xs">
                        Hinweis: FÃ¼r iOS Builds erstellt GitHub ein Xcode-Projekt (.xcarchive). Zum Signieren ist ein Mac erforderlich.
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold text-slate-500 uppercase tracking-widest">Deployment Target</label>
                            <select id="iosTarget" class="neo-input">
                                <option value="14.0">iOS 14.0+</option>
                                <option value="15.0">iOS 15.0+</option>
                                <option value="17.0">iOS 17.0+</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div id="build" class="tab-content space-y-6">
                    <h2 class="text-2xl font-bold text-cyan-400">Ready for Deployment?</h2>
                    <div class="p-6 bg-slate-950 rounded-2xl border border-white/5 space-y-4">
                        <input type="password" id="ghToken" class="neo-input" placeholder="GitHub Personal Access Token">
                        <input type="text" id="ghRepo" class="neo-input" placeholder="Username/Repository-Name">
                        <button onclick="startBuild()" id="buildBtn" class="w-full py-6 bg-cyan-600 rounded-2xl font-black text-2xl hover:scale-95 transition-all">START MULTI-PLATFORM BUILD</button>
                    </div>
                    <div id="log" class="terminal p-4 bg-black rounded-xl text-[10px] text-green-500 font-mono h-40 overflow-y-auto">
                        > Nexus Engine standby...
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        function showTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function handleIcon(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('iconPreview').src = e.target.result;
                    document.getElementById('iconPreview').classList.remove('hidden');
                    document.getElementById('iconHint').classList.add('hidden');
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        async function startBuild() {
            const btn = document.getElementById('buildBtn');
            const token = document.getElementById('ghToken').value;
            const repo = document.getElementById('ghRepo').value;
            const log = document.getElementById('log');

            if(!token || !repo) return alert("Fehlende Daten!");

            btn.disabled = true;
            log.innerHTML += `<br>> Dispatching build to GitHub...`;

            try {
                const res = await fetch(`https://api.github.com/repos/${repo}/dispatches`, {
                    method: 'POST',
                    headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        event_type: "nexus_build_trigger",
                        client_payload: {
                            url: document.getElementById('appUrl').value,
                            name: document.getElementById('appName').value,
                            id: document.getElementById('appId').value,
                            color: document.getElementById('statusBarColor').value,
                            ios_version: document.getElementById('iosTarget').value,
                            ptr: document.getElementById('pullToRefresh').checked
                        }
                    })
                });

                if(res.ok) { log.innerHTML += `<br>> SUCCESS! Check Actions Tab.`; }
                else { log.innerHTML += `<br>> ERROR: ${res.statusText}`; }
            } catch (e) { log.innerHTML += `<br>> FATAL ERROR.`; }
            btn.disabled = false;
        }
    </script>
</body>
</html>
